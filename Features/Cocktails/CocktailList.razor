@inject CocktailsService CocktailsService

@if (_cocktails.Any())
{
    <div class="col-4">
        <p>Matches for <em>@Search</em></p>
        <ul>
            @foreach (var cocktail in _cocktails)
            {
                <li><a href="#" hx-get="/cocktails/detail/@cocktail.Id" hx-target="#cocktail-detail">@cocktail.Name</a></li>
            }
        </ul>
    </div>
    <div class="col-8">
        <div id="cocktail-detail"></div>
    </div>
}
else 
{
    <div>Type a cocktail or ingredient to get started</div>
}

@code
{
    [Parameter]
    public string? Search { get; set; }

    private IEnumerable<Cocktail> _cocktails = [];

    protected override async Task OnParametersSetAsync()
    {
        if (!string.IsNullOrWhiteSpace(Search))
        {
            _cocktails = await CocktailsService.SearchCocktails(Search);
        }
    }
}